<div class="max-w-7xl mx-auto space-y-6">

  <!-- ================================================= -->
  <!-- HEADER -->
  <!-- ================================================= -->
  <div class="flex items-center justify-between">
    <div>
      <h1 class="text-2xl font-semibold text-gray-800">
        Procesos
      </h1>
      <p class="text-sm text-gray-500">
        Administración de procesos configurables del sistema
      </p>
    </div>

    <button
      (click)="nuevo()"
      class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md shadow-sm transition"
    >
      <span class="text-lg leading-none">＋</span>
      Nuevo proceso
    </button>
  </div>

  <!-- ================================================= -->
  <!-- CONTENIDO -->
  <!-- ================================================= -->
  @if (loading()) {
    <div class="text-gray-500 py-6 text-center">
      Cargando procesos...
    </div>
  } @else {

    <!-- TABLA -->
    <div class="bg-white rounded-lg shadow overflow-hidden">

      <table class="min-w-full text-sm">
        <thead class="bg-gray-100 text-gray-700">
          <tr>
            <!-- <th class="px-4 py-3 text-left w-16">ID</th> -->
            <th class="px-4 py-3 text-left">Nombre</th>
            <th class="px-4 py-3 text-left">Descripción</th>
            <th class="px-4 py-3 text-center w-24">Estado</th>
            <th class="px-4 py-3 text-right w-56">Acciones</th>
          </tr>
        </thead>

        <tbody>
          @for (item of tipos(); track item.iId) {

            <tr class="border-t hover:bg-gray-50 transition">

              <!-- ID -->
              <!-- <td class="px-4 py-2 text-gray-500">
                {{ item.iId }}
              </td> -->

              <!-- NOMBRE -->
              <td class="px-4 py-2 font-medium text-gray-800">
                {{ item.cNombre }}
              </td>

              <!-- DESCRIPCIÓN -->
              <td class="px-4 py-2 text-gray-600">
                {{ item.cDescripcion || '—' }}
              </td>

              <!-- ESTADO -->
              <td class="px-4 py-2 text-center">
                <span
                  class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"
                  [class.bg-green-100]="item.lActivo"
                  [class.text-green-700]="item.lActivo"
                  [class.bg-red-100]="!item.lActivo"
                  [class.text-red-700]="!item.lActivo"
                >
                  {{ item.lActivo ? 'Activo' : 'Inactivo' }}
                </span>
              </td>

              <!-- ACCIONES -->
              <td class="px-4 py-2">
                <div class="flex justify-end items-center gap-1">

                  <button
                    (click)="irEtapas(item.iId)"
                    class="px-2 py-1 text-xs rounded bg-emerald-50 text-emerald-700 hover:bg-emerald-100 transition"
                    title="Configurar etapas"
                  >
                    Etapas
                  </button>

                  <button
                    (click)="irSecciones(item.iId)"
                    class="px-2 py-1 text-xs rounded bg-indigo-50 text-indigo-700 hover:bg-indigo-100 transition"
                    title="Configurar secciones"
                  >
                    Secciones
                  </button>

                  <button
                    (click)="editar(item.iId)"
                    class="px-2 py-1 text-xs rounded bg-blue-50 text-blue-700 hover:bg-blue-100 transition"
                    title="Editar proceso"
                  >
                    Editar
                  </button>

                  <button
                    (click)="eliminar(item.iId)"
                    class="px-2 py-1 text-xs rounded bg-red-50 text-red-700 hover:bg-red-100 transition"
                    title="Eliminar proceso"
                  >
                    Eliminar
                  </button>

                </div>
              </td>

            </tr>
          }
        </tbody>
      </table>
    </div>

    <!-- EMPTY STATE -->
    @if (tipos().length === 0) {
      <div class="text-gray-500 text-center py-10">
        No hay procesos registrados.
      </div>
    }

  }

</div>
